
// Reset: http://necolas.github.com/normalize.css/
@import 'normalize.css'

// nib: http://visionmedia.github.com/nib/
// @import 'nib'

// Based upon this tutorial on Responsive Web Design:
// http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries

// Inspired by http://darkeffector.tumblr.com

@import url('http://fonts.googleapis.com/css?family=Homenaje|Lekton')

$bgColor        = #3D4349
$textColor      = #EFEFEF
$mainColor     = #0AF

$colSpacing     = 40px
$containerWidth = 980px
$sidebarWidth   = 140px
$contentWidth   = 700px

$headerFont     = 400 40px 'Homenaje', sans-serif
$navFont        = 1.2em \/ 2 'Lekton', sans-serif
$bodyFont       = 'Helvetica', sans-serif
$titleFont      = 1.2em \/ 2.5 'Lekton'
$timeFont       = 0.9em \/ 3.6 'Lekton'

white-note()
  text-shadow none
  color #333
  background white
  border-radius 5px
  box-shadow 0 0 0 4px rgba(0, 0, 0, 0.03) inset, 0 0 0 1px rgba(0, 0, 0, 0.15)
  position relative
  padding 10px 0 25px 0

.white-note
  white-note()
  padding 5px 32px 32px 32px

*
  box-sizing: border-box;

fix-float()
  height auto
  overflow hidden

html
  min-height 100%
  overflow-y auto
  background-color transparent

body
  font-family $bodyFont
  background $bgColor
  color $textColor
  text-shadow 0px 1px #333

h1
  font: $headerFont
  margin 0
  letter-spacing 1px
  text-shadow 4px 4px 11px #222

a
  text-decoration none
  color inherit
  
  &:hover
    color $mainColor
  
#container
  fix-float()
  width $containerWidth
  padding-left $colSpacing
  padding-top 40px
  margin-bottom 50px
  
#header
  height 100px
  margin-left $sidebarWidth + $colSpacing
  a:hover
    color inherit

#content
  width $contentWidth
  margin-left $colSpacing
  float left
  h2, h3
    font-family 'Helvetica Neue', Helvetica, Arial, sans-serif
    font-weight 400
  h2
    font-size 1.6em
  h3
    margin-bottom 0.5em
  p
    margin-top 0
    line-height 1.5
  a
    color $mainColor
    &:hover
      color darken( $mainColor, 30% )

#sidebar
  width $sidebarWidth
  float left

#menu
  list-style none
  padding 0
  margin 0
  li
    font $navFont
    a
      display block

#posts
  .post
    fix-float()
    position relative
    line-height 2
    h2
      font $titleFont
      margin 0
      a
        color inherit
        display block
    time
      position absolute
      top 0
      right 0
      color #999
      font $timeFont
      pointer-events none
    &:hover
      a
        color $mainColor
      time
        color white

#post
  white-note()
  
  header
    a
      color inherit
    h1
      font-size 1.6em
      font-family 'Helvetica Neue', Helvetica, Arial, sans-serif
      font-weight 400
      position relative
      margin-bottom 0.5em
    .meta
      padding-right 32px
      font-size 0.9em
      display block
      text-align right
      color #909090
      time
        display block
        margin-bottom 5px
    
  header, .content, footer
      margin 0 32px
  
  .content
    margin-top 10px
    line-height 1.6
    h1, h2
      font-size 1.4em
    h1, h2, h3
      color #333
      font-family 'Helvetica Neue', Helvetica, Arial, sans-serif
      font-weight 400
      margin 1em 0 0 0
    h3 + p, h2 + p, h3 + p
      margin-top 0.5em
    code
      font-family 0.9em
      font-family Monaco, Droid Sans, Inconsolata, monospace
  
  footer
    color #777
    border-left 1px solid #DDD
    padding-left 25px
  
  .content, footer
    a
      color darken($mainColor,20%)
      &:hover
        color darken($mainColor,50%)
  
  .shadow
    background url(/img/post_shadow.png) left bottom no-repeat
    width 100%
    height 10px
    display block
    position absolute
    left 0
    bottom -10px
    z-index 2

@css {
  img {
    max-width: 100%;
    height: auto;
    width: auto\9; /* IE 8 */
  }

  .video embed, .video object, .video iframe {
    width: 100%;
    height: auto;
  }
}

@media screen and (max-width: 1000px)
  
  html
    border-color red
  
  #container
    width 95%
  
  #content
    width ( $contentWidth * 100 / $containerWidth )%
    
  #posts .post
    line-height 1.5
    margin-bottom 10px
    h2
      font-size 1em
      margin-right 140px

@media screen and (max-width: 650px)
  
  html
    border-color orange
  
  #header 
    height auto
  
  #content
    width auto
    float none
    margin 20px 0

  #sidebar
    width 100%
    float none
    margin 0

@media screen and (max-width: 480px)
  
  html
    -webkit-text-size-adjust none
    border-color yellow
